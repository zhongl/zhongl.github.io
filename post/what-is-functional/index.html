<!DOCTYPE html><html lang="zh-CN"><head><title>什么是 Functional ？</title><meta charset="utf-8" /><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="description" content="理解函数式，是理解函数式编程的关键。" /><meta name="viewport" content="width=device-width" /><link rel="stylesheet" type="text/css" href="/style.css" /><link rel="apple-touch-icon" size="180x180" href="/apple-touch-icon.png" /><link rel="icon" type="image/png" size="32x32" href="/favicon-32x32.png" /><link rel="icon" type="image/png" size="16x16" href="/favicon-16x16.png" /><link rel="manifest" href="/site.webmanifest" /><script async="async" src="https://www.googletagmanager.com/gtag/js?id=G-REFRQT9XHR"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-REFRQT9XHR');
</script></head><body><main><menu><div><a href="/post/">𝚲</a></div></menu><article><header><time datetime="2024-04-07">Apr 7, 2024</time><h1>什么是 Functional ？</h1></header><div class="lead">
<p>理解函数式，是理解函数式编程的关键。</p>
</div>
<p>上一篇提到的中英文对照版<a href="#fn1" class="footnote-ref"
id="fnref1"
role="doc-noteref"><sup>1</sup></a>，我已经整理完了。因此，我应该有底气来谈谈
<strong>Functional Programming</strong> ，严谨来讲是，谈谈
<strong>Functional</strong> 是什么了。</p>
<h2 id="字面的困惑">字面的困惑</h2>
<p>若把英文 “<em>Function</em>” 映射为中文 “<em>函数</em>” 的话，那
“<em>Functional</em>” 就会是
“<em>函数相关的</em>”。可遗憾的是，即便我们对 “<em>函数</em>”
的理解是统一的，却很可能对 “<em>函数相关的</em>”
的理解是千差万别的。毕竟，“<em>相关的</em>”
的含义就是一个<strong>宽泛的指代</strong>。</p>
<p>这大概能解释，为什么从字面上去理解 <strong>Functional
Programming</strong> ，总就有种 <strong>似是而非</strong>
的感觉了吧。反正在第一次接触这个概念时，我的理解是，编程尽量多的用函数呗。就好比，面向对象编程，就是尽可能用对象去编程😝。可是，面向对象写了这么多年的我们心里应该清楚，这样的理解，虽然谈不上错，但肯定不是答案的全部。</p>
<h2 id="函数的形式">函数的形式</h2>
<blockquote>
<p>An FP system is founded on the use of a fixed set of combining forms
called <u>functional forms</u>. <a href="#fn2" class="footnote-ref"
id="fnref2" role="doc-noteref"><sup>2</sup></a></p>
</blockquote>
<p><cite><small>John Backus，Can Programming Be Liberated from the von
Neumann Style? A Functional Style and Its Algebra of
Programs</small></cite></p>
<p>巴科斯认为，<strong>Functional
Programming</strong>（FP）系统的本质是对一组函数的形式（functional
forms）的应用。由此可见，函数式编程除了函数本身外，真正体现其编程优越性的是，<strong>函数的（组合）形式</strong>。若将其简化为，<strong>函数式</strong>，貌似也说得过去。这里的
“式” 不再泛指 “相关的” 或 “风格”，而是特指 “组合形式” 或
“表达式”。这么一来，函数式编程，可以简明扼要理解为，是一种
<strong>应用函数组合形式</strong> 的编程风格。</p>
<figure>
<img src="0-36aafac9f6208a943c2d0e3b418d2c4c67307db0.png"
alt="Composition &amp; Application" />
<figcaption aria-hidden="true">Composition &amp;
Application</figcaption>
</figure>
<p>就这么简单吗？要是就这么简单，为什么围绕函数式编程有那么多不明觉厉的概念呢，像是：</p>
<ul>
<li>纯函数</li>
<li>匿名函数</li>
<li>高阶函数</li>
<li>柯里化</li>
<li>延迟求值</li>
<li>Monad</li>
<li>……</li>
</ul>
<p>函数式编程的内核本就是简单的，这并意味着实现它（变得实用）也同样简单。毕竟，程序代码最终要变成能被冯·诺伊曼机执行的指令。</p>
<h2 id="语言的败局">语言的败局</h2>
<p>巴科斯在文中提到的函数式编程系统，至少在那个时候，只是一个理论上的系统，其对应的编程语言还未有实用的版本公开。甚至，直到2006年（他去世的前一年），在面对
Grady Booch 的采访时，他亲口承认在函数式编程语言上的工作失败了<a
href="#fn3" class="footnote-ref" id="fnref3"
role="doc-noteref"><sup>3</sup></a>。</p>
<figure>
<img src="booch.png" alt="Booch’s Twitter" />
<figcaption aria-hidden="true">Booch’s Twitter</figcaption>
</figure>
<p>函数式编程语言失败了吗？虽然不知道巴科斯是判定语言成功的标准具体是什么，但他的观点至少表明了，从系统理论到语言实用，期间的鸿沟是令人生畏的。</p>
<h2 id="形式的重生">形式的重生</h2>
<p>客观来讲，确实没有一个函数式编程语言（如 Haskell<a href="#fn4"
class="footnote-ref" id="fnref4"
role="doc-noteref"><sup>4</sup></a>、Ocaml<a href="#fn5"
class="footnote-ref" id="fnref5"
role="doc-noteref"><sup>5</sup></a>）成为过主流。可是，函数式编程的风格却在主流编程语言中得到了重生。例如，组合函数
<code>compose</code> 在 Javascript 中的实现：</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode js"><code class="sourceCode javascript"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">compose</span>(f<span class="op">,</span> g) {</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> <span class="kw">function</span>(x) {</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="fu">f</span>(<span class="fu">g</span>(x))<span class="op">;</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>  }<span class="op">;</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="bu">console</span><span class="op">.</span><span class="fu">log</span>(</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">compose</span>(</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>    x <span class="kw">=&gt;</span> x <span class="op">*</span> x<span class="op">,</span> </span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>    x <span class="kw">=&gt;</span> x <span class="op">+</span> <span class="dv">1</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>  )(<span class="dv">5</span>)</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>) </span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="co">// Output: 36</span></span></code></pre></div>
<p>在巴科斯的函数式编程系统<a href="#fn6" class="footnote-ref"
id="fnref6"
role="doc-noteref"><sup>6</sup></a>里，这仅仅是函数式里最基础的一个，其余函数式同样能够用
Javascript 或其它主流编程语言实现。不信，你就试试吧！</p>
<h2 id="最后">最后</h2>
<p>至此，关于函数式，我认为我已经讲清楚了。若你觉得意犹未尽，我依旧在此强烈推荐阅读我反复提到的巴科斯的文章<a
href="#fn7" class="footnote-ref" id="fnref7"
role="doc-noteref"><sup>7</sup></a>。除非你擅长厨艺，或是个美食家，那我推荐你看
Li Haoyi 写的这篇 “函数式风格的提拉米苏食谱”<a href="#fn8"
class="footnote-ref" id="fnref8"
role="doc-noteref"><sup>8</sup></a>。当然，留言或私信我，也是欢迎的。😉</p>
<section id="footnotes" class="footnotes footnotes-end-of-document"
role="doc-endnotes">
<hr />
<ol>
<li id="fn1"><p><a
href="https://github.com/zhongl/thinking-in-fp/tree/main/can-programming-be-liberated-from-the-von-neumann-style/chunked"
class="uri"
target="_blank">https://github.com/zhongl/thinking-in-fp/tree/main/can-programming-be-liberated-from-the-von-neumann-style/chunked</a><a
href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p><a
href="https://github.com/zhongl/thinking-in-fp/blob/main/can-programming-be-liberated-from-the-von-neumann-style/chunked/11-functional-programming-systems.md#:~:text=An%20FP%20system%20is%20founded%20on%20the%20use%20of%20a%20fixed%20set%20of%20combining%20forms%20called%20functional%20forms."
class="uri"
target="_blank">https://github.com/zhongl/thinking-in-fp/blob/main/can-programming-be-liberated-from-the-von-neumann-style/chunked/11-functional-programming-systems.md#:~:text=An%20FP%20system%20is%20founded%20on%20the%20use%20of%20a%20fixed%20set%20of%20combining%20forms%20called%20functional%20forms.</a><a
href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3"><p><a
href="https://twitter.com/Grady_Booch/status/1016041695501139968"
class="uri"
target="_blank">https://twitter.com/Grady_Booch/status/1016041695501139968</a><a
href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn4"><p><a href="https://www.haskell.org/" class="uri"
target="_blank">https://www.haskell.org/</a><a href="#fnref4"
class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn5"><p><a href="https://ocaml.org/" class="uri"
target="_blank">https://ocaml.org/</a><a href="#fnref5"
class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn6"><p><a
href="https://github.com/zhongl/thinking-in-fp/blob/main/can-programming-be-liberated-from-the-von-neumann-style/chunked/11-functional-programming-systems.md#1124-%E5%87%BD%E6%95%B0%E5%BC%8F-bf-f"
class="uri"
target="_blank">https://github.com/zhongl/thinking-in-fp/blob/main/can-programming-be-liberated-from-the-von-neumann-style/chunked/11-functional-programming-systems.md#1124-%E5%87%BD%E6%95%B0%E5%BC%8F-bf-f</a><a
href="#fnref6" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn7"><p><a
href="https://github.com/zhongl/thinking-in-fp/tree/main/can-programming-be-liberated-from-the-von-neumann-style/chunked"
class="uri"
target="_blank">https://github.com/zhongl/thinking-in-fp/tree/main/can-programming-be-liberated-from-the-von-neumann-style/chunked</a><a
href="#fnref7" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn8"><p><a
href="https://www.lihaoyi.com/post/WhatsFunctionalProgrammingAllAbout.html"
target="_blank">What’s Functional Programming All About?</a><a
href="#fnref8" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section>
<nav class="not-prose"><ul><li><a href="/post/#/fp"><span class="icons-outlined align-bottom">tag</span>函数式编程</a></li></ul></nav><img class="mx-auto size-80 grayscale" src="/qrcode_wechat.jpg" /></article><footer><p><span>©</span>2025 zhongl.fun</p></footer></main></body></html>